<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="author" content="Script Tutorials" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <title>HTML5 Audio player with playlist | Script Tutorials</title>

    <!-- add styles and scripts -->
    <link href="css/styles.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="js/musicplayer.js"></script>
    <!-- Add the slick-theme.css if you want default styling -->

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css"
    />
    <!-- Add the slick-theme.css if you want default styling -->
  </head>

  <body>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"
    ></script>

    <button id="playerButton" style="font-size: large">Play</button>

    <div class="example">
      <ul class="playlist">
        <li
          data-cover="http://digital.akauk.com/utils/musicPlayer/data/john-doe.jpg"
          data-artist="John Doe"
          class="playlist-item"
        >
          <a href="/data/epic.mp3">Perfect</a>
        </li>
        <li
          data-cover="http://digital.akauk.com/utils/musicPlayer/data/John-Wesley.jpg"
          data-artist="John Wesley"
          class="playlist-item"
        >
          <a href="/data/epic.mp3">Tequila 10 Seconds</a>
        </li>

        <li
          data-cover="http://digital.akauk.com/utils/musicPlayer/data/jimi_hendrix.jpg"
          data-artist="Jimi Hendrix"
          class="playlist-item"
        >
          <a href="/data/epic.mp3">Purple Haze</a>
        </li>
      </ul>
    </div>

    <script>
      const playerSectionId = ".example";
      const playerSectionItemId = ".playlist-item";
      const buttonPlayerId = "#playerButton";
      $(playerSectionId).musicPlayer({
        elements: [
          "artwork",
          "information",
          "controls",
          "progress",
          "time",
          "volume",
        ], // ==> This will display in  the order it is inserted
        //elements: [ 'controls' , 'information', 'artwork', 'progress', 'time', 'volume' ],
        controlElements: ["backward", "play", "forward", "stop"],
        playerControllersIds: [
          playerSectionId,
          buttonPlayerId,
          playerSectionItemId,
        ],
        //timeElements: ['current', 'duration'],
        //timeSeparator: " : ", // ==> Only used if two elements in timeElements option
        //infoElements: [  'title', 'artist' ],

        //volume: 10,
        //autoPlay: true,
        //loop: true,
        // onLoad: function () {
        //   $(`${playerSectionId} .player`).css("display", "none");
        //   console.log($(`${playerSectionId} .player`));
        // },
        // onPlay: function () {
        //   $("body").css("background", "black");
        // },
        // onPause: function () {
        //   $("body").css("background", "green");
        // },
        // onStop: function () {
        //   $("body").css("background", "#141942");
        // },
        // onFwd: function () {
        //   $("body").css("background", "white");
        // },
        // onRew: function () {
        //   $("body").css("background", "blue");
        // },
        // volumeChanged: function () {
        //   $("body").css("background", "red");
        // },
        // progressChanged: function () {
        //   $("body").css("background", "orange");
        // },
        // trackClicked: function () {
        //   $("body").css("background", "brown");
        // },
        // onMute: function () {
        //   $("body").css("background", "grey");
        // },
      });

      slideToActive = function () {
        var slideIndex = $(".slick-slide:not(.slick-cloned) .song-item.active")
          .closest(".slick-slide")
          .attr("data-slick-index");
        $(".example .playlist").slick("slickGoTo", slideIndex);
      };

      $(".slick-dots button").click(function () {
        var index = $(this).text() - 1;
        index = '[data-slick-index="' + index + '"]';
        $(".slick-slide:not(.slick-cloned)" + index + " .song-item a").click();
      });
    </script>
  </body>
</html>
